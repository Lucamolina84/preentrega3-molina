(()=>{let t=!1,o="https://api.lerentools.com/",r=LS.store.id+"/products/preorder",n=LS.store.id+"/products/custom/",i=LS.store.id+"/products/custom",s=LS.store.id+"/products/delayed/",c=LS.store.id+"/products/delayed",b=null,u=null,m=null,f=null,_=null,g=!1,h=!1,x=!1,y=null,j=null,L=null,S=null,w=null,q=null;var l,a,v,C;l=v=>{const e=e=>{if((b=e).status&&e.products&&e.products.length){if("product"===LS.template){var d=e.products.find(e=>e.tn_id===LS.product.id);if(d&&d.tn_id){var l=v("div#single-product");if(d.preorder_show_label&&d.preorder_label_text&&d.preorder_label_same_as_store){let e=l.find("div.js-swiper-product"),t=(e=0===e.length?l.find("div#product-slider-container"):e).find("div.labels");0===(t=0===(t=0===t.length?e.parent().find("div.labels-floating"):t).length?e.parent().find("div.labels-absolute"):t).length&&(t=e.parent().find("div[data-store='product-item-labels']")),0==e.parent().find("div.lerentools-preorder-label").length&&(0<t.length?(n=v("<div class='label lerentools-preorder-label'></div>"),"Trend"===LS.theme.name&&n.addClass("label-circle label-primary"),r=v("<div>"+d.preorder_label_text+"</div>"),n.append(r),t.append(n)):(r=v("<div class='labels lerentools-preorder-labels'></div>"),n=v("<div class='label lerentools-preorder-label'></div>"),a=v("<div>"+d.preorder_label_text+"</div>"),n.append(a),r.append(n),e.append(r)))}var a=l.find("input.js-addtocart");if(d.preorder_custom_button&&d.preorder_button_text&&(n=l.find(".js-addtocart-text"),a.val(d.preorder_button_text),n.text(d.preorder_button_text)),d.preorder_show_shipping_caption){var t,o,r=a.closest("#product_form"),l=r.find("div#product-shipping-container"),n=l.parent();let e="";d.preorder_to&&(a=new Date(d.preorder_to.slice(0,16)),e=a?"La entrega de este producto iniciará a partir del día "+a.toLocaleDateString()+".":"La entrega de este producto iniciará a partir del día "+d.preorder_to.slice(0,10)+"."),0==r.find("div.lerentools-preorder-message").length&&(a=v("<div class='lerentools-preorder-message form-row' style='border: 1px solid black; margin-top: 10px; margin-bottom: 10px;'></div>"),t=v("<p style='margin: 20px; margin-bottom: 10px;'>"+d.preorder_shipping_text+"</p>"),o=v("<p style='margin: 20px; margin-top: 10px;'>"+e+"</p>"),d.preorder_shipping_text&&a.append(t),a.append(o),0<l.length||0<n.length?(n.hasClass("js-product-form")?l:n).before(a):r.append(a))}}}for(const m of e.products){var i,s,p=v("div[data-product-id='"+m.tn_id+"']");if(m.preorder_show_label&&m.preorder_label_text&&m.preorder_label_same_as_store){let e=[];let t=(e="Trend"===LS.theme.name?p.find("div.js-product-container"):(0<p.find("div.js-item-image").length?p.find("div.js-item-image"):0<p.find("div.item-image").length?p.find("div.item-image"):0<p.find("div.js-item-image-container").length?p.find("div.js-item-image-container"):p.find("div.item-image-container")).children()).find("div.labels");0===(t=0===(t=0===(t=0===t.length?e.parent().find("div.labels"):t).length?e.parent().find("div.labels-floating"):t).length?e.parent().find("div.labels-absolute"):t).length&&(t=e.parent().find("div[data-store='product-item-labels']")),0==e.parent().find("div.lerentools-preorder-label").length&&(0<t.length?(s=v("<div class='label lerentools-preorder-label'></div>"),"Trend"===LS.theme.name&&s.addClass("label-circle label-primary"),i=v("<div>"+m.preorder_label_text+"</div>"),s.append(i),t.append(s)):(i=v("<div class='labels lerentools-preorder-labels'></div>"),s=v("<div class='label lerentools-preorder-label'></div>"),c=v("<div>"+m.preorder_label_text+"</div>"),s.append(c),i.append(s),e.append(i)))}var c=p.find("input.js-addtocart"),u=p.find(".js-addtocart-text"),p=p.find(".js-quickshop-modal-open");m.preorder_custom_button&&m.preorder_button_text&&(c.val(m.preorder_button_text),u.text(m.preorder_button_text),p.text(m.preorder_button_text))}}};if(b?y=y||setInterval(()=>{e(b)},1e3):v.get(o+r).done(e).fail(e=>{console.log("Error obteniendo productos en preorder",e)}),"product"===LS.template){const l=d=>{if((u=d).status&&d.product){var d=d.product,l=v("div#single-product"),e=l.find("#product_form"),t=e.find("div#product-shipping-container"),a=t.parent(),o=e.find("div.lerentools-custom-product-inputs");if(d.custom_has_field&&0==o.length&&(o=v("<div class='form-row lerentools-custom-product-inputs'></div>"),n=v("<div class='flex-row'></div>"),i=v("<div class='form-control-container'></div>"),r=v("<label>"+d.custom_field_name+"</label>"),s=v("<input type='text' class='form-control h5 form-control-inline' style='margin-top: 10px;' id='"+d.custom_field_identifier+"' name='properties["+d.custom_field_identifier+"]' />"),d.custom_field_value&&s.val(d.custom_field_value),i.append(r),i.append(s),n.append(i),o.append(n),0<t.length||0<a.length?(a.hasClass("js-product-form")?t:a).before(o):e.append(o)),d.custom_show_label&&d.custom_label_text&&d.custom_label_same_as_store){let e=l.find("div.js-swiper-product"),t=(e=0===e.length?l.find("div#product-slider-container"):e).find("div.labels");0===(t=0===(t=0===t.length?e.parent().find("div.labels-floating"):t).length?e.parent().find("div.labels-absolute"):t).length&&(t=e.parent().find("div[data-store='product-item-labels']")),0==e.parent().find("div.lerentools-custom-label").length&&(0<t.length?(r=v("<div class='label lerentools-custom-label'></div>"),"Trend"===LS.theme.name&&r.addClass("label-circle label-primary"),s=v("<div>"+d.custom_label_text+"</div>"),r.append(s),t.append(r)):(i=v("<div class='labels lerentools-custom-labels'></div>"),n=v("<div class='label lerentools-custom-label'></div>"),o=v("<div>"+d.custom_label_text+"</div>"),n.append(o),i.append(n),e.append(i)))}var r,n,i,s=l.find("input.js-addtocart"),o=(d.custom_button&&d.custom_button_text&&(r=l.find(".js-addtocart-text"),s.val(d.custom_button_text),r.text(d.custom_button_text)),l.find("div.lerentools-custom-product-message"));d.custom_has_delay&&0==o.length&&(n=v("<div class='form-row lerentools-custom-product-message' style='border: 1px solid black; margin-top: 10px; margin-bottom: 10px;'></div>"),i=v("<p style='margin: 20px;'>Al personalizar este producto la entrega se verá demorada "+d.custom_delay_in_days+" días.</p>"),n.append(i),0<t.length||0<a.length?(a.hasClass("js-product-form")?t:a).before(n):e.append(n))}};u?j=j||setInterval(()=>{l(u)},1e3):v.get(o+n+LS.product.id).done(l).fail(e=>{console.log("Error obteniendo producto personalizado",e)})}const t=e=>{if((m=e)&&e.status&&e.products&&e.products.length)for(const r of e.products){var d,l,a=v("div[data-product-id='"+r.tn_id+"']");if(r.custom_show_label&&r.custom_label_text&&r.custom_label_same_as_store){let e=[];let t=(e="Trend"===LS.theme.name?a.find("div.js-product-container"):(0<a.find("div.js-item-image").length?a.find("div.js-item-image"):0<a.find("div.item-image").length?a.find("div.item-image"):0<a.find("div.js-item-image-container").length?a.find("div.js-item-image-container"):a.find("div.item-image-container")).children()).find("div.labels");0===(t=0===(t=0===(t=0===t.length?e.parent().find("div.labels"):t).length?e.parent().find("div.labels-floating"):t).length?e.parent().find("div.labels-absolute"):t).length&&(t=e.parent().find("div[data-store='product-item-labels']")),0==e.parent().find("div.lerentools-custom-label").length&&(0<t.length?(l=v("<div class='label lerentools-custom-label'></div>"),"Trend"===LS.theme.name&&l.addClass("label-circle label-primary"),d=v("<div>"+r.custom_label_text+"</div>"),l.append(d),t.append(l)):(d=v("<div class='labels lerentools-custom-labels'></div>"),l=v("<div class='label lerentools-custom-label'></div>"),o=v("<div>"+r.custom_label_text+"</div>"),l.append(o),d.append(l),e.append(d)))}var o=a.find("input.js-addtocart"),t=a.find(".js-addtocart-text"),a=a.find(".js-quickshop-modal-open");r.custom_button&&r.custom_button_text&&(o.val(r.custom_button_text),t.text(r.custom_button_text),a.text(r.custom_button_text))}};if(m?L=L||setInterval(()=>{t(m)},1e3):v.get(o+i).done(t).fail(e=>{console.log("Error obteniendo productos personalizados",e)}),"product"===LS.template){const a=d=>{if((f=d).status&&d.product){var d=d.product,l=v("div#single-product"),t=l.find("#product_form"),a=t.find("div#product-shipping-container"),o=a.parent();if(d.delayed_show_label&&d.delayed_label_text&&d.delayed_label_same_as_store){let e=l.find("div.js-swiper-product"),t=(e=0===e.length?l.find("div#product-slider-container"):e).find("div.labels");0===(t=0===(t=0===t.length?e.parent().find("div.labels-floating"):t).length?e.parent().find("div.labels-absolute"):t).length&&(t=e.parent().find("div[data-store='product-item-labels']")),0==e.parent().find("div.lerentools-delayed-label").length&&(0<t.length?(r=v("<div class='label lerentools-delayed-label'></div>"),"Trend"===LS.theme.name&&r.addClass("label-circle label-primary"),n=v("<div>"+d.delayed_label_text+"</div>"),r.append(n),t.append(r)):(n=v("<div class='labels lerentools-delayed-labels'></div>"),r=v("<div class='label lerentools-delayed-label'></div>"),i=v("<div>"+d.delayed_label_text+"</div>"),r.append(i),n.append(r),e.append(n)))}var r,n,i=l.find("input.js-addtocart");if(d.delayed_button&&d.delayed_button_text&&(r=l.find(".js-addtocart-text"),i.val(d.delayed_button_text),r.text(d.delayed_button_text)),d.delayed_show_shipping_caption){let e="";d.delayed_delay_in_days&&(e="La entrega de este producto se verá demorada "+d.delayed_delay_in_days+" días."),0==t.find("div.lerentools-delayed-message").length&&(n=v("<div class='lerentools-delayed-message form-row' style='border: 1px solid black; margin-top: 10px; margin-bottom: 10px;'></div>"),l=v("<p style='margin: 20px; margin-bottom: 10px;'>"+d.delayed_shipping_text+"</p>"),i=v("<p style='margin: 20px; margin-top: 10px;'>"+e+"</p>"),d.delayed_shipping_text&&n.append(l),n.append(i),0<a.length||0<o.length?(o.hasClass("js-product-form")?a:o).before(n):t.append(n))}}};f?S=S||setInterval(()=>{a(f)},1e3):v.get(o+s+LS.product.id).done(a).fail(e=>{console.log("Error obteniendo producto con demora",e)})}const d=e=>{if((_=e)&&e.status&&e.products&&e.products.length)for(const r of e.products){var d,l,a=v("div[data-product-id='"+r.tn_id+"']");if(r.delayed_show_label&&r.delayed_label_text&&r.delayed_label_same_as_store){let e=[];let t=(e="Trend"===LS.theme.name?a.find("div.js-product-container"):(0<a.find("div.js-item-image").length?a.find("div.js-item-image"):0<a.find("div.item-image").length?a.find("div.item-image"):0<a.find("div.js-item-image-container").length?a.find("div.js-item-image-container"):a.find("div.item-image-container")).children()).find("div.labels");0===(t=0===(t=0===(t=0===t.length?e.parent().find("div.labels"):t).length?e.parent().find("div.labels-floating"):t).length?e.parent().find("div.labels-absolute"):t).length&&(t=e.parent().find("div[data-store='product-item-labels']")),0==e.parent().find("div.lerentools-delayed-label").length&&(0<t.length?(l=v("<div class='label lerentools-delayed-label'></div>"),"Trend"===LS.theme.name&&l.addClass("label-circle label-primary"),d=v("<div>"+r.delayed_label_text+"</div>"),l.append(d),t.append(l)):(d=v("<div class='labels lerentools-delayed-labels'></div>"),l=v("<div class='label lerentools-delayed-label'></div>"),o=v("<div>"+r.delayed_label_text+"</div>"),l.append(o),d.append(l),e.append(d)))}var o=a.find("input.js-addtocart"),t=a.find(".js-addtocart-text"),a=a.find(".js-quickshop-modal-open");r.delayed_button&&r.delayed_button_text&&(o.val(r.delayed_button_text),t.text(r.delayed_button_text),a.text(r.delayed_button_text))}};_?w=w||setInterval(()=>{d(_)},1e3):v.get(o+c).done(d).fail(e=>{console.log("Error obteniendo productos con demora",e)});q=q||setInterval(()=>{var e,t;e=v(".js-ajax-cart-panel"),t=e.find(".js-cart-item"),g=!1,h=!1,x=!1,b&&b.status&&b.products&&b.products.length&&t.each(function(){var e=v(this).attr("data-store");for(p of b.products)e&&0<e.length&&-1!==e.indexOf(p.tn_id)&&(g=!0)}),m&&m.status&&m.products&&m.products.length&&t.each(function(){var e=v(this).attr("data-store");for(p of m.products)e&&0<e.length&&-1!==e.indexOf(p.tn_id)&&(h=!0)}),_&&_.status&&_.products&&_.products.length&&t.each(function(){var e=v(this).attr("data-store");for(p of _.products)e&&0<e.length&&-1!==e.indexOf(p.tn_id)&&(x=!0)}),g?(e.find("p.lerentools-customs-cart-message").remove(),e.find("p.lerentools-delayeds-cart-message").remove(),0==e.find("p.lerentools-preorder-cart-message").length&&e.find("#ajax-cart-submit-div").before("<p class='lerentools-preorder-cart-message'><b>Importante:</b> Existen productos en preventa en el carrito. Recordá que todos los productos se enviarán juntos a partir de que se encuentren disponibles.</p>")):h?(e.find("p.lerentools-preorder-cart-message").remove(),e.find("p.lerentools-delayeds-cart-message").remove(),0==e.find("p.lerentools-customs-cart-message").length&&e.find("#ajax-cart-submit-div").before("<p class='lerentools-customs-cart-message'><b>Importante:</b> Existen productos personalizados en el carrito. Recordá que todos los productos se enviarán juntos a partir de que se encuentren disponibles.</p>")):x?(e.find("p.lerentools-preorder-cart-message").remove(),e.find("p.lerentools-customs-cart-message").remove(),0==e.find("p.lerentools-delayeds-cart-message").length&&e.find("#ajax-cart-submit-div").before("<p class='lerentools-delayeds-cart-message'><b>Importante:</b> Existen productos con tiempo de fabricación en el carrito. Recordá que todos los productos se enviarán juntos a partir de que se encuentren disponibles.</p>")):(e.find("p.lerentools-preorder-cart-message").remove(),e.find("p.lerentools-customs-cart-message").remove(),e.find("p.lerentools-delayeds-cart-message").remove())},1e3)},a=500,v=!0;const d=function(){var e=this,t=arguments,d=v&&!C;clearTimeout(C),C=setTimeout(function(){C=null,v||l.apply(e,t)},a),d&&l.apply(e,t)};const T=new MutationObserver(()=>{t?d(t):jQuery&&d(jQuery)}),E={attributes:!0,attributeFilter:["value"],childList:!0,subtree:!0,characterData:!0};var e=[3,5,0],I="undefined"==typeof jQuery?[0,0,0]:$.fn.jquery.split(".").map(e=>parseInt(e));if(I[0]<e[0]||I[0]==e[0]&&I[1]<e[1]){I="//ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js";var k=()=>{(t=jQuery.noConflict(!0))&&(T.observe(document.body,E),d(t))};let e=document.createElement("script");e.type="text/javascript",e.readyState?e.onreadystatechange=()=>{"loaded"!=e.readyState&&"complete"!=e.readyState||(e.onreadystatechange=null,k())}:e.onload=()=>{k()},e.src=I,document.getElementsByTagName("head")[0].appendChild(e)}else T.observe(document.body,E),d(jQuery)})();